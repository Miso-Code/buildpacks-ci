import React from 'react';
import { Modal, Box, Typography, List, ListItem, ListItemText } from '@mui/material';
import { Dependency } from '../context';

interface AddDependencyModalProps {
    open: boolean;
    onClose: () => void;
    dependencies: Dependency[];
    onAdd: (dependency: Dependency) => void;
}

const AddDependencyModal: React.FC<AddDependencyModalProps> = ({ open, onClose, dependencies, onAdd }) => {
    return (
        <Modal
            open={open}
            onClose={onClose}
            aria-labelledby="add-dependency-modal-title"
            aria-describedby="add-dependency-modal-description"
        >
            <Box sx={{
                position: 'absolute',
                top: '50%',
                left: '50%',
                transform: 'translate(-50%, -50%)',
                backgroundColor: 'background.paper',
                padding: 4,
                minWidth: 400,
                maxHeight: '80vh',
                overflow: 'auto',
                display: 'flex',
                flexDirection: 'column',
                gap: 2
            }}>
                <Typography id="add-dependency-modal-title" variant="h6" component="h2">
                    Add Dependency
                </Typography>
                <List>
                    {dependencies.map((dependency) => (
                        <ListItem key={dependency.id} button onClick={() => onAdd(dependency)}>
                            <ListItemText primary={`${dependency.vendor} - ${dependency.product}`} />
                        </ListItem>
                    ))}
                </List>
            </Box>
        </Modal>
    );
}

export default AddDependencyModal;
