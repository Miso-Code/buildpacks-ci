import { createContext } from 'react';

export interface Dependency {
    id: string;
    vendor: string;
    product: string;
}

export interface Integration {
    type: string;
    active: boolean;
    settings: string;
}

export interface DependencyWithIntegration {
    dependency_id: string;
    integration: Integration;
}

export interface User {
    username: string;
    token?: string;
}

export interface ContextStateProps {
    user: User | undefined;
    dependencies: Dependency[];
}

export interface ContextActions {
    setUser?: (user: User | undefined) => void;
    setDependencies?: (dependencies: Dependency[]) => void;
}

export interface ContextProps extends ContextStateProps, ContextActions {}

const initialContext: ContextProps = {
    user: undefined,
    dependencies: []
};

export const Context = createContext<ContextProps>(initialContext);
