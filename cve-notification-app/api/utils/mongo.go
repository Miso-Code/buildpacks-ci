package utils

import (
	"context"
	"github.com/Miso-Code/buildpacks-ci/cve-notification-app/services"
	"go.mongodb.org/mongo-driver/mongo"
)

func GetMongoConnection() (services.MongoLibrary, *mongo.Client, context.Context, error) {
	mongoLibrary := services.NewMongoLibrary("mongodb://localhost:27017")
	mongoClient, ctx, err := mongoLibrary.GetMongoClient()
	if err != nil {
		return services.MongoLibrary{}, nil, nil, err
	}

	return mongoLibrary, mongoClient, ctx, nil
}
